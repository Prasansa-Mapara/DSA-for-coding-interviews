next permutation is only posible in ascending order. so we need increasing order somewhere in our sequence; we need it as far right as possible, so we start from the end, if a[i-1]<a[i] (so this portion is increasing); now, we can again start from the end, and start an element which is greater than a[i-1], swap it, so all elements to the right of a[i-1] are already sorted in desc order, we need to make that ascending, so reverse that part;